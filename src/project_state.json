{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Build fully functional Add Money page for A7J TOPUP with bKash/Nagad payment modals, transaction submission + validation, database persistence, and admin approval workflow.",
  "architectural_notes": [
    "Store top-up submissions with fields: userId, wallet, amount, txId (unique), method (bKash/Nagad), timestamp, status=pending/approved/rejected.",
    "Enforce uniqueness on txId at database level to prevent duplicates.",
    "Admin-only approval required to apply balance changes; user submissions create pending records and trigger admin notification."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-ensure-the-add-money-page-has-two-payment-method-buttons-bkash-and-nagad-that-open-a-method-specific-popup-modal-when-clicked",
      "title": "Ensure the Add Money page has two payment method buttons (bKash and Nagad) that open a method-specific popup/modal when clicked.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-payment-popup-modal-ui-to-match-the-requested-design-white-background-clean-card-rounded-corners-soft-shadow-visible-close-x-button-at-the-top-right-show-the-method-specific-payment-number-and-render-the-instructions-as-a-4-step-ordered-list-the-primary-cta-must-be-a-purple-submit-transaction-button",
      "title": "Update the payment popup/modal UI to match the requested design: white background clean card, rounded corners, soft shadow, visible close (X) button at the top-right, show the method-specific payment number, and render the instructions as a 4-step ordered list. The primary CTA must be a purple “Submit Transaction” button.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-verify-the-add-money-submission-flow-so-that-submitting-from-the-modal-validates-inputs-client-side-amount-0-transaction-id-not-empty-calls-the-backend-submit-method-and-shows-an-english-success-failure-message-to-the-user",
      "title": "Implement/verify the Add Money submission flow so that submitting from the modal validates inputs client-side (amount > 0; Transaction ID not empty), calls the backend submit method, and shows an English success/failure message to the user.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-admin-panel-reflects-newly-submitted-pending-wallet-top-up-transactions-and-can-act-on-them-approve-reject-so-admins-are-effectively-notified-of-pending-submissions-via-the-admin-transactions-list",
      "title": "Ensure the Admin Panel reflects newly submitted pending wallet top-up transactions and can act on them (approve/reject) so admins are effectively notified of pending submissions via the admin transactions list.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-maintain-a-mobile-responsive-professional-ui-for-the-add-money-page-and-the-payment-modal-spacing-typography-buttons-and-tables-must-remain-usable-on-small-screens",
      "title": "Maintain a mobile-responsive, professional UI for the Add Money page and the payment modal (spacing, typography, buttons, and tables must remain usable on small screens).",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add Money page: bKash and Nagad payment buttons open method-specific popup/modal",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Design payment popup/modal UI (clean white card, rounded corners, shadow, close X, method-specific number, instructions, purple Submit Transaction button, responsive)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Submit Transaction flow: validate TxID (required, non-duplicate), save userId/wallet/amount/txId/method/timestamp to database, show success/failure message",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Admin workflow: notify admin panel of pending top-up transaction; only admin can approve",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Security: prevent duplicate TxID submissions across all transactions",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Persist submitted top-up requests in the backend so each request stores: user (Principal), amount, transactionId (TxID), payment method (bKash/Nagad), status (pending by default), and timestamp (createdAt).",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Enforce security rules for wallet top-up requests: prevent duplicate TxID submissions globally, and ensure only admins can approve or reject pending top-up transactions.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "A7J TOPUP",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}